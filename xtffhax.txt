-- IOSVIET DEMO UI (SAFE EXECUTOR VERSION)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UIS = game:GetService("UserInputService")
local LP = Players.LocalPlayer

local S = {
	Name=false, Health=false, Distance=false, Line=false, Alert=false,
	Aimbot=false, HideBot=false, AimbotKnock=false,
	Radius=250
}

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "iosviet_demo"
pcall(function() gui.Parent = LP:WaitForChild("PlayerGui") end)
if not gui.Parent then gui.Parent = game:GetService("CoreGui") end

-- Floating open button
local openBtn = Instance.new("TextButton", gui)
openBtn.Size = UDim2.fromOffset(48,48)
openBtn.Position = UDim2.fromScale(0.02,0.5)
openBtn.Text = "â‰¡"
openBtn.BackgroundColor3 = Color3.fromRGB(40,120,255)
openBtn.TextColor3 = Color3.new(1,1,1)
Instance.new("UICorner", openBtn).CornerRadius = UDim.new(1,0)

-- Main frame
local frame = Instance.new("Frame", gui)
frame.Size = UDim2.fromOffset(420,260)
frame.Position = UDim2.fromScale(0.18,0.35)
frame.BackgroundColor3 = Color3.fromRGB(20,20,30)
frame.Visible = false
Instance.new("UICorner", frame)

-- Close X
local closeBtn = Instance.new("TextButton", frame)
closeBtn.Size = UDim2.fromOffset(28,28)
closeBtn.Position = UDim2.fromOffset(380,8)
closeBtn.Text = "X"
closeBtn.BackgroundColor3 = Color3.fromRGB(60,60,70)
closeBtn.TextColor3 = Color3.new(1,1,1)

-- Left tabs
local left = Instance.new("Frame", frame)
left.Size = UDim2.fromOffset(120,240)
left.Position = UDim2.fromOffset(10,10)
left.BackgroundTransparency = 1

local tabPlayer = Instance.new("TextButton", left)
tabPlayer.Size = UDim2.fromOffset(110,40)
tabPlayer.Text = "PLAYER"
tabPlayer.BackgroundColor3 = Color3.fromRGB(40,120,255)
tabPlayer.TextColor3 = Color3.new(1,1,1)

local tabAim = Instance.new("TextButton", left)
tabAim.Size = UDim2.fromOffset(110,40)
tabAim.Position = UDim2.fromOffset(0,50)
tabAim.Text = "AIM"
tabAim.BackgroundColor3 = Color3.fromRGB(240,240,240)

-- Page
local page = Instance.new("Frame", frame)
page.Size = UDim2.fromOffset(260,240)
page.Position = UDim2.fromOffset(150,10)
page.BackgroundTransparency = 1

local function clear()
	for _,v in ipairs(page:GetChildren()) do
		if v:IsA("GuiObject") then v:Destroy() end
	end
end

local function mkToggle(text, y, key)
	local b = Instance.new("TextButton", page)
	b.Size = UDim2.fromOffset(240,34)
	b.Position = UDim2.fromOffset(0,y)
	b.Text = text.." : OFF"
	b.BackgroundColor3 = Color3.fromRGB(60,60,70)
	b.TextColor3 = Color3.new(1,1,1)
	b.MouseButton1Click:Connect(function()
		S[key] = not S[key]
		b.Text = text.." : "..(S[key] and "ON" or "OFF")
	end)
end

-- PLAYER TAB
local function showPlayer()
	clear()
	mkToggle("ESP Name",0,"Name")
	mkToggle("ESP Health",40,"Health")
	mkToggle("ESP Distance",80,"Distance")
	mkToggle("ESP Line",120,"Line")
	mkToggle("Alert 360",160,"Alert")
end

-- AIM TAB
local circle = Instance.new("Frame", gui)
circle.AnchorPoint = Vector2.new(0.5,0.5)
circle.Position = UDim2.fromScale(0.5,0.5)
circle.Size = UDim2.fromOffset(S.Radius*2, S.Radius*2)
circle.BackgroundTransparency = 1
circle.Visible = false
Instance.new("UICorner", circle).CornerRadius = UDim.new(1,0)
local stroke = Instance.new("UIStroke", circle)
stroke.Thickness = 2
stroke.Color = Color3.fromRGB(0,255,0)

local function showAim()
	clear()
	mkToggle("Aimbot (Demo)",0,"Aimbot")
	mkToggle("HideBot",40,"HideBot")
	mkToggle("Aimbot Knock",80,"AimbotKnock")

	local lab = Instance.new("TextLabel", page)
	lab.Size = UDim2.fromOffset(240,24)
	lab.Position = UDim2.fromOffset(0,130)
	lab.Text = "Radius: "..S.Radius
	lab.TextColor3 = Color3.new(1,1,1)
	lab.BackgroundTransparency = 1

	local bar = Instance.new("Frame", page)
	bar.Size = UDim2.fromOffset(240,6)
	bar.Position = UDim2.fromOffset(0,160)
	bar.BackgroundColor3 = Color3.fromRGB(80,80,90)

	local fill = Instance.new("Frame", bar)
	fill.BackgroundColor3 = Color3.fromRGB(0,200,0)
	fill.Size = UDim2.fromScale(S.Radius/1000,1)

	bar.InputBegan:Connect(function(i)
		if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
			local con; con = UIS.InputChanged:Connect(function(inp)
				if inp.UserInputType==Enum.UserInputType.MouseMovement or inp.UserInputType==Enum.UserInputType.Touch then
					local x = math.clamp((inp.Position.X-bar.AbsolutePosition.X)/bar.AbsoluteSize.X,0,1)
					S.Radius = math.floor(1000*x)
					fill.Size = UDim2.fromScale(x,1)
					lab.Text = "Radius: "..S.Radius
					circle.Size = UDim2.fromOffset(S.Radius*2, S.Radius*2)
				end
			end)
			UIS.InputEnded:Once(function() if con then con:Disconnect() end end)
		end
	end)
end

tabPlayer.MouseButton1Click:Connect(showPlayer)
tabAim.MouseButton1Click:Connect(showAim)

openBtn.MouseButton1Click:Connect(function()
	frame.Visible = true
end)
closeBtn.MouseButton1Click:Connect(function()
	frame.Visible = false
end)

showPlayer()

RunService.RenderStepped:Connect(function()
	circle.Position = UDim2.fromScale(0.5,0.5)
	circle.Visible = S.Aimbot and not S.HideBot
end)